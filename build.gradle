plugins {
    id 'java'
    id 'us.kirchmeier.capsule' version '1.0-rc1'
}

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    compile 'com.google.guava:guava:18.0'
    compile 'org.projectlombok:lombok:1.16.4'
    compile 'org.slf4j:slf4j-api:1.7.12'
    compile 'com.lochbridge.oath:oath-otp:0.0.1-SNAPSHOT'
    compile 'org.bouncycastle:bcprov-jdk15on:1.52'

    // compile-time so that we can install SLF4JBridgeHandler
    compile 'org.slf4j:jul-to-slf4j:1.7.12'

    runtime 'ch.qos.logback:logback-classic:1.1.3'

    testCompile 'org.spockframework:spock-core:1.0-groovy-2.4'
}

configurations {
    runtime.exclude group:'org.projectlombok'
}

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

version = '0.1'

task wrapper(type:Wrapper) {
    gradleVersion = '2.4'
}

task fatCapsule(type:FatCapsule) {
    capsuleManifest {
        applicationClass 'roboath.Roboath'
        applicationVersion = version
        jvmArgs = ['-Xmx100m', '-Xms100m']
        minJavaVersion = '1.8.0'
    }
}
